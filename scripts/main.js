"use strict";!function(){function t(){var t=[];return $(".gallery").children().each(function(){var e=$(this),n=e.find("img");if(!e.hasClass("gallery-item"))return!0;var a=n.data("size").split("x"),i={src:n.attr("src"),w:parseInt(a[0],10),h:parseInt(a[1],10),title:n.data("title"),el:e};t.push(i)}),t}function e(t,e){var n=$(".pswp").get(0),a={index:e,getThumbBoundsFn:function(e){var n=t[e].el[0],a=window.pageYOffset||$(document).documentElement.scrollTop,i=n.getBoundingClientRect();return{x:i.left,y:i.top+a,w:i.width}}},i=new PhotoSwipe(n,PhotoSwipeUI_Default,t,a);i.init()}$(document).foundation();var n=$(window);n.scroll(function(){var t=n.scrollTop(),e=$("#about").offset().top;if(t>=e?$("#navbar").fadeIn(350):$("#navbar").fadeOut(350),!Modernizr.touch){var a=$("body").scrollTop()+n.height(),i=165;if(a-=i,a>$(".upper").height()){var o=a-$(".upper").height();o<=n.height()&&$(".upper").css({top:o+"px"})}else $(".upper").css({top:0})}}),$(window).load(function(){$(".gallery").masonry({itemSelector:".gallery-item",columnWidth:".gallery-sizer"})}),$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top},1e3),!1}})});var a=t();$(".gallery-item").click(function(){var t=$(this).find("img").data("index");e(a,t)})}(),function(t){function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function n(t,e){var n=a(t,e)?o:i;n(t,e)}if(Modernizr.touch){var a,i,o;"classList"in document.documentElement?(a=function(t,e){return t.classList.contains(e)},i=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(a=function(t,n){return e(n).test(t.className)},i=function(t,e){a(t,e)||(t.className=t.className+" "+e)},o=function(t,n){t.className=t.className.replace(e(n)," ")});var s={hasClass:a,addClass:i,removeClass:o,toggleClass:n,has:a,add:i,remove:o,toggle:n};"function"==typeof define&&define.amd?define(s):t.classie=s,[].slice.call(document.querySelectorAll("ul > li > figure")).forEach(function(t,e){t.querySelector("figcaption > a").addEventListener("touchstart",function(t){t.stopPropagation()},!1),t.addEventListener("touchstart",function(t){s.toggle(this,"cs-hover")},!1)})}}(window);